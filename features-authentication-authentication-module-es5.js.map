{"version":3,"sources":["src/app/features/authentication/login/login.component.html","src/app/features/authentication/authentication-routing.module.ts","src/app/features/authentication/authentication.module.ts","src/app/features/authentication/login/login.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"flex-comp-container\\\">\\n  <mat-card>\\n    <mat-card-title>Login</mat-card-title>\\n    <mat-card-content>\\n      <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n        <form-input\\n          formControlName=\\\"username\\\"\\n          [errors]=\\\"f.username.errors\\\"\\n          [errorVisible]=\\\"submitted\\\"\\n          [placeholder]=\\\"'Username or Email'\\\"\\n          [icon]=\\\"'email'\\\"\\n        ></form-input>\\n\\n        <form-input\\n          formControlName=\\\"password\\\"\\n          [type]=\\\"'password'\\\"\\n          [errors]=\\\"f.password.errors\\\"\\n          [errorVisible]=\\\"submitted\\\"\\n          [placeholder]=\\\"'Password'\\\"\\n          [icon]=\\\"'lock'\\\"\\n        ></form-input>\\n\\n        <button mat-raised-button [disabled]=\\\"loading\\\" color=\\\"primary\\\">\\n          <mat-icon><i class=\\\"material-icons md-dark\\\">done</i></mat-icon>\\n          Login\\n        </button>\\n        <a mat-button routerLink=\\\"/user/sign-up\\\" class=\\\"btn btn-link\\\">\\n          <mat-icon><i class=\\\"material-icons md-dark\\\">person_add</i></mat-icon>\\n          Register\\n        </a>\\n        <a mat-button routerLink=\\\"/user/forgot-password\\\" class=\\\"btn btn-link\\\">\\n          <mat-icon\\n            ><i class=\\\"material-icons md-dark\\\">contact_support</i></mat-icon\\n          >\\n          Forgot Password\\n        </a>\\n      </form>\\n    </mat-card-content>\\n  </mat-card>\\n  <app-loading [visible]=\\\"loading\\\"></app-loading>\\n</div>\\n\"","import { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\nimport { LoginComponent } from './login/login.component'\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: '/auth/login',\n    pathMatch: 'full',\n  },\n  {\n    path: '',\n    children: [{ path: 'login', component: LoginComponent }],\n  },\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthenticationRoutingModule {}\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms'\n\nimport { AuthenticationRoutingModule } from './authentication-routing.module'\nimport { LoginComponent } from './login/login.component'\nimport { SharedModule } from '@app/shared'\nimport { CustomMaterialModule } from '@app/core'\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    AuthenticationRoutingModule,\n    ReactiveFormsModule,\n    SharedModule,\n    CustomMaterialModule,\n    FormsModule,\n  ],\n})\nexport class AuthenticationModule {}\n","import { Component, OnInit } from '@angular/core'\nimport { FormBuilder, FormGroup } from '@angular/forms'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { first } from 'rxjs/operators'\n\nimport { AlertService, AuthenticationService } from '@core/services'\nimport { FieldSpecs } from '@app/shared/validation/field-spec'\n\n@Component({ templateUrl: 'login.component.html' })\nexport class LoginComponent implements OnInit {\n  loginForm: FormGroup\n  loading = false\n  submitted = false\n  returnUrl: string\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService\n  ) {\n    // redirect to home if already logged in\n    if (this.authenticationService.currentUserValue) {\n      this.router.navigate(['/'])\n    }\n  }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', [FieldSpecs.fieldRequiredValidator('usernameRequired')]],\n      password: ['', [FieldSpecs.fieldRequiredValidator('passwordRequired')]],\n    })\n\n    // get return url from route parameters or default to '/'\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/'\n  }\n\n  // convenience getter for easy access to form fields\n  get f() {\n    return this.loginForm.controls\n  }\n\n  onSubmit() {\n    this.submitted = true\n\n    // stop here if form is invalid\n    if (this.loginForm.invalid) {\n      return\n    }\n\n    this.loading = true\n    this.authenticationService\n      .login(this.f.username.value, this.f.password.value)\n      .pipe(first())\n      .subscribe(\n        () => {\n          this.router.navigate([this.returnUrl])\n        },\n        error => {\n          this.alertService.error(error)\n          this.loading = false\n        }\n      )\n  }\n}\n"],"sourceRoot":"webpack:///","file":"features-authentication-authentication-module-es5.js"}